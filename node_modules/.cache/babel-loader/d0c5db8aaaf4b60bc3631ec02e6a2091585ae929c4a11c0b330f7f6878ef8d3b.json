{"ast":null,"code":"export async function requestAuth() {\n  let ret = null;\n  await fetch(process.env.BACKENDURL + '/api/validation', {\n    method: 'GET',\n    credentials: 'include' // ensure cookies are sent with the request\n  }).then(res => res.json()).then(data => {\n    console.log(data);\n    if (data.authorized) {\n      if (data.isAdmin) {\n        ret = {\n          authorized: true,\n          isAdmin: true\n        };\n      } else {\n        ret = {\n          authorized: true,\n          isAdmin: false\n        };\n      }\n      // console.log(\"if is authenitcated ret is: \" + ret);\n    } else {\n      ret = {\n        authorized: false,\n        isAdmin: false\n      };\n    }\n  }).catch(err => {\n    // console.log('Error fetching validation data:', err);\n    ret = {\n      authorized: false,\n      isAdmin: false\n    };\n  });\n  return ret;\n}","map":{"version":3,"names":["requestAuth","ret","fetch","process","env","BACKENDURL","method","credentials","then","res","json","data","console","log","authorized","isAdmin","catch","err"],"sources":["/Users/chestonopsasnick/Documents/Coding_Projects/Delt-client/src/utils/requestAuth.js"],"sourcesContent":["\nexport async function requestAuth() {\n    let ret = null;\n    await fetch(process.env.BACKENDURL +'/api/validation', {\n        method: 'GET',\n        credentials: 'include', // ensure cookies are sent with the request\n    })\n        .then(res => res.json())\n        .then(data => {\n            console.log(data);\n            if (data.authorized) {\n                if (data.isAdmin) {\n                    ret = { authorized: true, isAdmin: true };\n                } else {\n                    ret = { authorized: true, isAdmin: false };\n                }\n                // console.log(\"if is authenitcated ret is: \" + ret);\n            } else {\n                ret = { authorized: false, isAdmin: false };\n            }\n        })\n        .catch(err => {\n            // console.log('Error fetching validation data:', err);\n            ret = { authorized: false, isAdmin: false };\n        });\n    return ret;\n}\n"],"mappings":"AACA,OAAO,eAAeA,WAAWA,CAAA,EAAG;EAChC,IAAIC,GAAG,GAAG,IAAI;EACd,MAAMC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,GAAE,iBAAiB,EAAE;IACnDC,MAAM,EAAE,KAAK;IACbC,WAAW,EAAE,SAAS,CAAE;EAC5B,CAAC,CAAC,CACGC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;IACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACjB,IAAIA,IAAI,CAACG,UAAU,EAAE;MACjB,IAAIH,IAAI,CAACI,OAAO,EAAE;QACdd,GAAG,GAAG;UAAEa,UAAU,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAK,CAAC;MAC7C,CAAC,MAAM;QACHd,GAAG,GAAG;UAAEa,UAAU,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAM,CAAC;MAC9C;MACA;IACJ,CAAC,MAAM;MACHd,GAAG,GAAG;QAAEa,UAAU,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAM,CAAC;IAC/C;EACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;IACV;IACAhB,GAAG,GAAG;MAAEa,UAAU,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAM,CAAC;EAC/C,CAAC,CAAC;EACN,OAAOd,GAAG;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}