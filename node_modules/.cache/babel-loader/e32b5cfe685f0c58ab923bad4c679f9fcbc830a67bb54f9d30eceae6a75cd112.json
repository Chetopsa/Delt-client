{"ast":null,"code":"export async function requestAuth() {\n  let ret = null;\n  await fetch('/api/validation', {\n    method: 'GET',\n    credentials: 'include' // ensure cookies are sent with the request\n  }).then(res => res.json()).then(data => {\n    console.log(data);\n    if (data.authorized) {\n      if (data.isAdmin) {\n        ret = {\n          authorized: true,\n          isAdmin: true\n        };\n      } else {\n        ret = {\n          authorized: true,\n          isAdmin: false\n        };\n      }\n      // console.log(\"if is authenitcated ret is: \" + ret);\n    } else {\n      ret = {\n        authorized: false,\n        isAdmin: false\n      };\n    }\n  }).catch(err => {\n    // console.log('Error fetching validation data:', err);\n    ret = {\n      authorized: false,\n      isAdmin: false\n    };\n  });\n  return ret;\n}","map":{"version":3,"names":["requestAuth","ret","fetch","method","credentials","then","res","json","data","console","log","authorized","isAdmin","catch","err"],"sources":["/Users/chestonopsasnick/Documents/Coding_Projects/DeltsDineV2/client/src/utils/requestAuth.js"],"sourcesContent":["export async function requestAuth() {\n    let ret = null;\n    await fetch('/api/validation', {\n        method: 'GET',\n        credentials: 'include', // ensure cookies are sent with the request\n    })\n        .then(res => res.json())\n        .then(data => {\n            console.log(data);\n            if (data.authorized) {\n                if (data.isAdmin) {\n                    ret = { authorized: true, isAdmin: true };\n                } else {\n                    ret = { authorized: true, isAdmin: false };\n                }\n                // console.log(\"if is authenitcated ret is: \" + ret);\n            } else {\n                ret = { authorized: false, isAdmin: false };\n            }\n        })\n        .catch(err => {\n            // console.log('Error fetching validation data:', err);\n            ret = { authorized: false, isAdmin: false };\n        });\n    return ret;\n}\n"],"mappings":"AAAA,OAAO,eAAeA,WAAWA,CAAA,EAAG;EAChC,IAAIC,GAAG,GAAG,IAAI;EACd,MAAMC,KAAK,CAAC,iBAAiB,EAAE;IAC3BC,MAAM,EAAE,KAAK;IACbC,WAAW,EAAE,SAAS,CAAE;EAC5B,CAAC,CAAC,CACGC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;IACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACjB,IAAIA,IAAI,CAACG,UAAU,EAAE;MACjB,IAAIH,IAAI,CAACI,OAAO,EAAE;QACdX,GAAG,GAAG;UAAEU,UAAU,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAK,CAAC;MAC7C,CAAC,MAAM;QACHX,GAAG,GAAG;UAAEU,UAAU,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAM,CAAC;MAC9C;MACA;IACJ,CAAC,MAAM;MACHX,GAAG,GAAG;QAAEU,UAAU,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAM,CAAC;IAC/C;EACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;IACV;IACAb,GAAG,GAAG;MAAEU,UAAU,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAM,CAAC;EAC/C,CAAC,CAAC;EACN,OAAOX,GAAG;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}